$(function(){init()});var cn={fail:"失败",pass:"成功",invalidSSID:"SSID长度范围是4~32.",LegalPin:"请输入合法的WIFI密码!"},en={fail:"Fail",pass:"Success",invalidSSID:"The range of SSID is 4~32.",LegalPin:"Please input legal WIFI password!"};function get_lan_wifiset(e){if("Chinese"===getCookie("language"))var t=cn[e];else t=en[e];return null==t&&(t=cn[e]),null==t&&(t=en[e]),null==t&&(t=e),t}function init(){var e,t,l;document.getElementById("content2").style.display="none";request({funcNo:1006},function(c){var o=c.flag,s=c.error_info;if("1"==o){var n=c.results[0];e=n.wifi_status,t=n.ssid_flag,l=n.mode,maxSta=n.maxSta,initPage(e,t,l,maxSta),n.ip&&$("#ip").html(n.ip),n.mac&&$("#mac").html(n.mac),n.ssid&&$("#ssid").val(n.ssid),n.client_num&&$("#client_num").html(n.client_num+" /  "+n.maxSta);var i=n.maxSta,d=document.getElementById("select2").getElementsByTagName("option");0==i?d[0].selected=!0:1==i?d[1].selected=!0:2==i?d[2].selected=!0:3==i?d[3].selected=!0:4==i?d[4].selected=!0:5==i?d[5].selected=!0:6==i?d[6].selected=!0:7==i?d[7].selected=!0:8==i?d[8].selected=!0:9==i?d[9].selected=!0:10==i&&(d[10].selected=!0)}else Alert(get_lan_wifiset("fail")),Alert(s)}),document.getElementById("content3").style.display="none";request({funcNo:1009},function(e){var t=e.flag,l=e.error_info;if("1"==t){var c=e.results[0];initPage2(c.encryp_type),c.pwd&&$("#pwd").val(c.pwd)}else Alert(l)})}function initPage(e,t,l,c){"0"==e&&$("#status").html("OFF")}function applyFunction(){var e;document.getElementById("content2").style.display="inline","selected"==$("#select2 option:eq(0)").attr("selected")?e=$("#select2 option:eq(0)").val():"selected"==$("#select2 option:eq(1)").attr("selected")?e=$("option:eq(1)").val():"selected"==$("#select2 option:eq(2)").attr("selected")?e=$("#select2 option:eq(2)").val():"selected"==$("#select2 option:eq(3)").attr("selected")?e=$("#select2 option:eq(3)").val():"selected"==$("#select2 option:eq(4)").attr("selected")?e=$("#select2 option:eq(4)").val():"selected"==$("#select2 option:eq(5)").attr("selected")?e=$("#select2 option:eq(5)").val():"selected"==$("#select2 option:eq(6)").attr("selected")?e=$("#select2 option:eq(6)").val():"selected"==$("#select2 option:eq(7)").attr("selected")?e=$("#select2 option:eq(7)").val():"selected"==$("#select2 option:eq(8)").attr("selected")?e=$("#select2 option:eq(8)").val():"selected"==$("#select2 option:eq(9)").attr("selected")?e=$("#select2 option:eq(9)").val():"selected"==$("#select2 option:eq(10)").attr("selected")&&(e=$("#select2 option:eq(10)").val());var t=document.getElementById("ssid").value;(t.length<4||t.length>32)&&Alert(get_lan_wifiset("invalidSSID"));var l={funcNo:1007,ssid:$("#ssid").val(),maxSta:e};request2(l,function(e){var t=e.flag,l=e.error_info;"1"!=t?(Alert(get_lan_wifiset("fail")),Alert(l),document.getElementById("content2").style.display="none"):document.getElementById("content2").style.display="none"})}function initPage2(e){var t=document.getElementById("ecrytion").getElementsByTagName("option");switch(e){case 0:default:t[0].selected=!0;break;case 1:t[1].selected=!0;break;case 2:t[2].selected=!0;break;case 3:t[3].selected=!0;break;case 4:t[4].selected=!0;break;case 5:t[5].selected=!0}}$("#select2").bind("change",function(e){"selected"==$("#select2 option:eq(0)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(0)").attr("selected","selected")):"selected"==$("#select2 option:eq(1)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(1)").attr("selected","selected")):"selected"==$("#select2 option:eq(2)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(2)").attr("selected","selected")):"selected"==$("#select2 option:eq(3)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(3)").attr("selected","selected")):"selected"==$("#select2 option:eq(4)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(4)").attr("selected","selected")):"selected"==$("#select2 option:eq(5)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(5)").attr("selected","selected")):"selected"==$("#select2 option:eq(6)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(6)").attr("selected","selected")):"selected"==$("#select2 option:eq(7)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(7)").attr("selected","selected")):"selected"==$("#select2 option:eq(8)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(8)").attr("selected","selected")):"selected"==$("#select2 option:eq(9)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(9)").attr("selected","selected")):"selected"==$("#select2 option:eq(10)").attr("selected")&&($("#select2 option").removeAttr("selected"),$("#select2 option:eq(10)").attr("selected","selected"))}),$("#SaveSubmit").bind("click",function(e){var t,l;applyFunction(),document.getElementById("content3").style.display="inline","selected"==$("#ecrytion option:eq(0)").attr("selected")?t=$("#ecrytion option:eq(0)").val():"selected"==$("#ecrytion option:eq(1)").attr("selected")?t=$("#ecrytion option:eq(1)").val():"selected"==$("option:eq(2)").attr("selected")?t=$("#ecrytion option:eq(2)").val():"selected"==$("#ecrytion option:eq(3)").attr("selected")?t=$("#ecrytion option:eq(3)").val():"selected"==$("#ecrytion option:eq(4)").attr("selected")?t=$("#ecrytion option:eq(4)").val():"selected"==$("#ecrytion option:eq(5)").attr("selected")&&(t=$("#ecrytion option:eq(5)").val()),l=$("#pwd").val();if(/^[a-zA-Z0-9]{8,64}$/.test(l)){var c={funcNo:1010,encryp_type:t,pwd:$("#pwd").val()};request2(c,function(e){var t=e.flag,l=e.error_info;if("1"==t)return Alert(get_lan_wifiset("pass")),void(document.getElementById("content3").style.display="none");Alert(l),document.getElementById("content3").style.display="none"})}else Alert(get_lan_wifiset("LegalPin"))}),$("#select2").bind("change",function(e){"selected"==$("#select2 option:eq(0)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(0)").attr("selected","selected")):"selected"==$("#select2 option:eq(1)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(1)").attr("selected","selected")):"selected"==$("#select2 option:eq(2)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(2)").attr("selected","selected")):"selected"==$("#select2 option:eq(3)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(3)").attr("selected","selected")):"selected"==$("#select2 option:eq(4)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(4)").attr("selected","selected")):"selected"==$("#select2 option:eq(5)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(5)").attr("selected","selected")):"selected"==$("#select2 option:eq(6)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(6)").attr("selected","selected")):"selected"==$("#select2 option:eq(7)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(7)").attr("selected","selected")):"selected"==$("#select2 option:eq(8)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(8)").attr("selected","selected")):"selected"==$("#select2 option:eq(9)").attr("selected")?($("#select2 option").removeAttr("selected"),$("#select2 option:eq(9)").attr("selected","selected")):"selected"==$("#select2 option:eq(10)").attr("selected")&&($("#select2 option").removeAttr("selected"),$("#select2 option:eq(10)").attr("selected","selected"))}),$("#ecrytion").bind("change",function(e){"selected"==$("ecrytion option:eq(0)").attr("selected")?($("ecrytion option").removeAttr("selected"),$("ecrytion option:eq(0)").attr("selected","selected")):"selected"==$("ecrytion option:eq(1)").attr("selected")?($("ecrytion option").removeAttr("selected"),$("ecrytion option:eq(1)").attr("selected","selected")):"selected"==$("option:eq(2)").attr("selected")?($("ecrytion option").removeAttr("selected"),$("ecrytion option:eq(2)").attr("selected","selected")):"selected"==$("ecrytion option:eq(3)").attr("selected")?($("ecrytion option").removeAttr("selected"),$("ecrytion option:eq(3)").attr("selected","selected")):"selected"==$("ecrytion option:eq(4)").attr("selected")?($("ecrytion option").removeAttr("selected"),$("ecrytion option:eq(4)").attr("selected","selected")):"selected"==$("ecrytion option:eq(5)").attr("selected")&&($("ecrytion option").removeAttr("selected"),$("ecrytion option:eq(5)").attr("selected","selected"))});